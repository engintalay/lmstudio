<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LM Studio Desktop</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Ãœst Bar -->
        <header class="header">
            <div class="header-content">
                <div class="logo-area">
                    <img src="assets/new-logo.png" alt="LM Studio Logo" class="app-logo">
                </div>
                <h1 class="app-title">ğŸ¤– LM Studio Desktop</h1>
                <div class="connection-status" id="connectionStatus">
                    <span class="status-indicator" id="statusIndicator"></span>
                    <span id="statusText">BaÄŸlantÄ± kontrol ediliyor...</span>
                </div>
                <div class="app-meta">
                    <span id="appVersion" class="app-version"></span>
                    <span id="tokenInfo" class="token-info"></span>
                </div>
                <div class="header-buttons">
                    <button id="exportDocxButton" style="display: none;" class="header-button">DOCX Olarak DÄ±ÅŸa Aktar</button>
                    <button id="exportPdfButton" style="display: none;" class="header-button">PDF Olarak DÄ±ÅŸa Aktar</button>
                    <button id="summarizeChatButton" class="header-button">Sohbeti Ã–zetle</button>
                    <button id="updateChatWithSummaryButton" class="header-button">Ã–zetle ve GeÃ§miÅŸi GÃ¼ncelle</button>
                    <button id="stopButton" class="header-button">Durdur</button>
                </div>
            </div>
        </header>

        <!-- Ana Ä°Ã§erik -->
        <main class="main-content">
            <!-- Yan Panel -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>ğŸ“‹ Modeller</h3>
                    <div class="model-list" id="modelList">
                        <p class="loading">Modeller yÃ¼kleniyor...</p>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>ğŸ“ Dosya Ekleme</h3>
                    <div class="file-section">
                        <button class="file-button" id="selectFileButton">
                            ğŸ“ Dosya SeÃ§
                        </button>
                        <div class="file-info" id="fileInfo" style="display: none;">
                            <div class="file-name" id="fileName"></div>
                            <div class="file-details" id="fileDetails"></div>
                            <button class="remove-file" id="removeFile">âŒ KaldÄ±r</button>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>âš™ï¸ HÄ±zlÄ± Ayarlar</h3>
                    <div class="settings">
                        <label for="temperature">SÄ±caklÄ±k (Temperature):</label>
                        <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.7">
                        <span id="temperatureValue">0.7</span>
                        
                        <label for="maxTokens">Maksimum Token:</label>
                        <input type="number" id="maxTokens" min="1" max="4000" value="1000">
                        
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="enableStreaming" checked>
                                <span class="checkbox-text">âš¡ Streaming Modu</span>
                            </label>
                        </div>
                        
                        <button class="settings-button" id="openSettingsButton">
                            ğŸ”§ GeliÅŸmiÅŸ Ayarlar
                        </button>
                    </div>
                </div>

                <!-- Sohbetler bÃ¶lÃ¼mÃ¼ -->
                <div class="sidebar-section" id="chatListSection">
                    <h4>Sohbetler</h4>
                    <ul id="chatList" class="chat-list"></ul>
                    <button id="newChatButton" class="sidebar-button">+ Yeni Sohbet</button>
                </div>
            </aside>

            <!-- Sohbet AlanÄ± -->
            <section class="chat-area">
                <div class="chat-header">
                    <h2>ğŸ’¬ Sohbet</h2>
                    <button class="clear-chat" id="clearChat">ğŸ—‘ï¸ Temizle</button>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <h3>LM Studio Desktop'a HoÅŸ Geldiniz! ğŸ‰</h3>
                        <p>Yerel AI modellerinizle sohbet etmeye baÅŸlamak iÃ§in aÅŸaÄŸÄ±daki mesaj kutusunu kullanÄ±n.</p>
                        <p><strong>Not:</strong> LM Studio'nun Ã§alÄ±ÅŸÄ±r durumda olduÄŸundan ve bir model yÃ¼klendiÄŸinden emin olun.</p>
                    </div>
                </div>
                
                <div id="exportSelectedContainer" style="display: none; gap: 10px; margin-bottom: 10px;">
                    <button id="exportSelectedPdf" class="modern-btn">SeÃ§ili MesajlarÄ± PDF Olarak DÄ±ÅŸa Aktar</button>
                    <button id="exportSelectedDocx" class="modern-btn">SeÃ§ili MesajlarÄ± DOCX Olarak DÄ±ÅŸa Aktar</button>
                </div>

                
                <div class="chat-input-area">
                    <div class="input-group">
                        <textarea 
                            id="messageInput" 
                            placeholder="MesajÄ±nÄ±zÄ± buraya yazÄ±n..." 
                            rows="3"
                        ></textarea>
                        <button id="sendButton" class="send-button">
                            <span class="button-text">GÃ¶nder</span>
                            <span class="button-icon">ğŸ“¤</span>
                        </button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Ayarlar Modal EkranÄ± -->
    <div class="modal-overlay" id="settingsModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âš™ï¸ GeliÅŸmiÅŸ Ayarlar</h2>
                <button class="close-button" id="closeSettingsButton">âœ•</button>
            </div>
            
            <div class="modal-body">
                <div class="settings-tabs">
                    <button class="tab-button active" data-tab="server">ğŸ–¥ï¸ Sunucu</button>
                    <button class="tab-button" data-tab="interface">ğŸ¨ ArayÃ¼z</button>
                    <button class="tab-button" data-tab="chat">ğŸ’¬ Sohbet</button>
                    <button class="tab-button" data-tab="files">ğŸ“ Dosyalar</button>
                </div>
                
                <div class="settings-content">
                    <!-- Sunucu AyarlarÄ± -->
                    <div class="tab-content active" id="server-tab">
                        <div class="setting-group">
                            <h3>LM Studio BaÄŸlantÄ±sÄ±</h3>
                            <label for="serverUrl">Sunucu URL'si:</label>
                            <input type="text" id="serverUrl" value="http://localhost:1234" placeholder="http://localhost:1234">
                            
                            <label for="apiKey">API AnahtarÄ± (Opsiyonel):</label>
                            <input type="password" id="apiKey" placeholder="API anahtarÄ±nÄ±zÄ± girin">
                            
                            <label for="timeout">BaÄŸlantÄ± Zaman AÅŸÄ±mÄ± (saniye):</label>
                            <input type="number" id="timeout" min="5" max="300" value="30">
                            
                            <button class="test-connection" id="testConnectionButton">
                                ğŸ” BaÄŸlantÄ±yÄ± Test Et
                            </button>
                        </div>
                    </div>
                    
                    <!-- ArayÃ¼z AyarlarÄ± -->
                    <div class="tab-content" id="interface-tab">
                        <div class="setting-group">
                            <h3>GÃ¶rÃ¼nÃ¼m AyarlarÄ±</h3>
                            <label for="theme">Tema:</label>
                            <select id="theme">
                                <option value="light">ğŸŒ AÃ§Ä±k Tema</option>
                                <option value="dark">ğŸŒ™ Koyu Tema</option>
                                <option value="auto">âš¡ Sistem TemasÄ±</option>
                            </select>
                            
                            <label for="fontSize">YazÄ± Boyutu:</label>
                            <select id="fontSize">
                                <option value="small">KÃ¼Ã§Ã¼k</option>
                                <option value="medium" selected>Orta</option>
                                <option value="large">BÃ¼yÃ¼k</option>
                            </select>
                            
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="showTimestamps" checked>
                                    <span class="checkbox-text">Mesaj zamanlarÄ±nÄ± gÃ¶ster</span>
                                </label>
                                
                                <label class="checkbox-label">
                                    <input type="checkbox" id="soundNotifications">
                                    <span class="checkbox-text">Ses bildirimleri</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Sohbet AyarlarÄ± -->
                    <div class="tab-content" id="chat-tab">
                        <div class="setting-group">
                            <h3>Sohbet DavranÄ±ÅŸÄ±</h3>
                            <label for="defaultTemperature">VarsayÄ±lan SÄ±caklÄ±k:</label>
                            <input type="range" id="defaultTemperature" min="0" max="2" step="0.1" value="0.7">
                            <span id="defaultTemperatureValue">0.7</span>
                            
                            <label for="defaultMaxTokens">VarsayÄ±lan Maksimum Token:</label>
                            <input type="number" id="defaultMaxTokens" min="1" max="8000" value="1000">
                            
                            <label for="systemPrompt">Sistem Ä°stemcisi:</label>
                            <textarea id="systemPrompt" rows="4" placeholder="AI'ya Ã¶zel talimatlar verebilirsiniz..."></textarea>
                            
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="enableStreamingModal" checked>
                                    <span class="checkbox-text">âš¡ Streaming yanÄ±tlar (gerÃ§ek zamanlÄ±)</span>
                                </label>
                                
                                <label class="checkbox-label">
                                    <input type="checkbox" id="autoSave" checked>
                                    <span class="checkbox-text">Sohbet geÃ§miÅŸini otomatik kaydet</span>
                                </label>
                                
                                <label class="checkbox-label">
                                    <input type="checkbox" id="contextMemory" checked>
                                    <span class="checkbox-text">BaÄŸlam hafÄ±zasÄ±nÄ± kullan</span>
                                </label>
                                
                                <label class="checkbox-label">
                                    <input type="checkbox" id="showTypingIndicator" checked>
                                    <span class="checkbox-text">Yazma gÃ¶stergesini gÃ¶ster</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dosya AyarlarÄ± -->
                    <div class="tab-content" id="files-tab">
                        <div class="setting-group">
                            <h3>Dosya Ä°ÅŸleme</h3>
                            <label for="maxFileSize">Maksimum Dosya Boyutu (MB):</label>
                            <input type="number" id="maxFileSize" min="1" max="100" value="10">
                            
                            <label for="textPreviewLength">Metin Ã–nizleme UzunluÄŸu:</label>
                            <input type="number" id="textPreviewLength" min="100" max="2000" value="500">
                            
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="autoIncludeFiles" checked>
                                    <span class="checkbox-text">DosyalarÄ± otomatik olarak sohbete dahil et</span>
                                </label>
                                
                                <label class="checkbox-label">
                                    <input type="checkbox" id="showFilePreview" checked>
                                    <span class="checkbox-text">Dosya Ã¶nizlemesini gÃ¶ster</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="button secondary" id="resetSettingsButton">
                    ğŸ”„ VarsayÄ±lanlarÄ± SÄ±fÄ±rla
                </button>
                <div class="button-group">
                    <button class="button secondary" id="cancelSettingsButton">
                        âŒ Ä°ptal
                    </button>
                    <button class="button primary" id="saveSettingsButton">
                        ğŸ’¾ Kaydet
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>